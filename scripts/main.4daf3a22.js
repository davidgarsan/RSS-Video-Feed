!function(a){"use strict";a.qs=function(a,b){return(b||document).querySelector(a)},a.qsa=function(a,b){return(b||document).querySelectorAll(a)},a.toggleClass=function(a,b){a.className=a.className.match(b)?a.className.replace(b,""):a.className+" "+b},a.preventDefault=function(b){b=b||a.event,b.preventDefault&&b.preventDefault(),b.returnValue=!1},a.$on=function(a,b,c,d){a.addEventListener(b,c,!!d)},a.$delegate=function(b,c,d,e){function f(d){var f=d.target,g=a.qsa(c,b),h=Array.prototype.indexOf.call(g,f)>=0;h&&e.call(f,d)}var g="blur"===d||"focus"===d;a.$on(b,d,f,g)},a.$parent=function(b,c){return b.parentNode?b.tagName.toLowerCase()===c.toLowerCase()?b:b.parentNode.tagName.toLowerCase()===c.toLowerCase()?b.parentNode:a.$parent(b.parentNode,c):void 0},NodeList.prototype.forEach=Array.prototype.forEach}(window),function(a){"use strict";function b(){this.defaultTemplate='<a id="{{index}}" href="#" class="list-group-item"><h4 class="list-group-item-heading">{{title}}</h4><p class="list-group-item-text">{{category}}</p></a>'}b.prototype.show=function(a){var b,c,d="";for(b=0,c=a.length;c>b;b++){var e=this.defaultTemplate;e=e.replace("{{index}}",b),e=e.replace("{{title}}",a[b].title),e=e.replace("{{category}}",a[b].category),d+=e}return d},a.app=a.app||{},a.app.Template=b}(window),function(a){"use strict";function b(a){this.template=a,this.data=null,this.ENTER_KEY=13,this.SPACE_KEY=32,this.UP_KEY=38,this.DOWN_KEY=40,this.selected=-1,this.$title=qs(".title"),this.$description=qs(".description"),this.$list=qs(".feeds .list-group"),this.$up=qs(".feeds button.up"),this.$down=qs(".feeds button.down"),this.$player=qs(".player video"),this.$caption=qs(".caption")}b.prototype.render=function(a,b,c,d){this.data=c,this.$title.innerHTML=a,this.$description.innerHTML=b,this.$list.innerHTML=this.template.show(c,d),this._startPlayer(d),this._bind()},b.prototype._startPlayer=function(a){this._select(a),this.$player.src=this.data[a].link,this.$caption.innerHTML=this.data[a].description},b.prototype._select=function(a){-1!=this.selected&&toggleClass(qs(".active",this.$list),"active"),this.selected=a,toggleClass(this.$list.childNodes[a],"active")},b.prototype._goUp=function(){this.selected>0&&(this._select(this.selected-1),this.$list.childNodes[this.selected].focus())},b.prototype._goDown=function(){this.selected<this.data.length-1&&(this._select(this.selected+1),this.$list.childNodes[this.selected].focus())},b.prototype._bind=function(){var b=this;$on(this.$up,"mousedown",function(){b._goUp()}),$on(this.$down,"mousedown",function(){b._goDown()}),$delegate(this.$list,"a, h4, p","mousedown",function(){var a=$parent(this,"a");b._startPlayer(parseInt(a.id,10))}),$on(document,"keydown",function(a){a.keyCode===b.ENTER_KEY?b._startPlayer(b.selected):a.keyCode===b.UP_KEY?(b._goUp(),preventDefault()):a.keyCode===b.DOWN_KEY?(b._goDown(),preventDefault()):a.keyCode===b.SPACE_KEY&&(b.$player.paused?b.$player.play():b.$player.pause())}),a.onwheel=preventDefault},a.app=a.app||{},a.app.View=b}(window),function(){"use strict";function a(a){this.url=a,this.template=new app.Template,this.view=new app.View(this.template)}function b(a){var b=Function.call.bind(Array.prototype.slice),c=a.getElementsByTagName("channel")[0],d=c.getElementsByTagName("title")[0].textContent,e=c.getElementsByTagName("description")[0].textContent,h=b(a.getElementsByTagName("item")).reduce(function(a,b){return a.push(["title","link","description","pubDate","category"].reduce(function(a,c){return a[c]=b.getElementsByTagName(c)[0].textContent,a},{})),a},[]);g.view.render(d,e,h,f)}var c="https://corsfeeder.herokuapp.com",d="http://rss.cnn.com/services/podcasting/ac360/rss.xml",e=c+"?feed="+d+"&callback=parse",f=0;a.prototype.load=function(){$.ajax({type:"GET",url:"https://corsfeeder.herokuapp.com?feed="+d+"&callback=parse",dataType:"xml",success:b})};var g=new a(e);$on(window,"load",g.load)}();